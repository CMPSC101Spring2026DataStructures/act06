# Tutorial 1: Introduction to Sphinx and Docstrings

## Overview

In this tutorial, you will learn what Sphinx is, why it matters, and create your first Sphinx-generated documentation. You'll write a simple Python module with well-documented functions, then use Sphinx to automatically generate professional HTML documentation.

This tutorial assumes you have **never used Sphinx or a documentation generator before**. We will build your knowledge step by step.

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## What is Sphinx?

**Sphinx** is an open-source documentation generator originally created for Python. Here's what you need to know:

### The Problem It Solves

When developers write code, they often add comments and explanations in the code itself. But:

- Comments scattered throughout source files are hard to navigate
- Different projects document code differently (inconsistent)
- Generating clean, professional documentation manually is tedious
- Documentation easily gets out of sync with code

### The Sphinx Solution

Sphinx reads Python files and automatically extracts documentation from:

1. **Docstrings** - special comments at the beginning of modules, functions, and classes
2. **Source code structure** - functions, classes, parameters, return types
3. **Configuration files** - your settings for how to organize and style the output

Sphinx then generates:

- **Beautiful HTML pages** - professional-looking website with search functionality
- **Consistent formatting** - all documentation follows the same style
- **Cross-references** - links between related functions and modules
- **Multiple formats** - PDF, ePub, and other formats (advanced)

### Real-World Example

Popular Python projects that use Sphinx for documentation:

- **Django** (web framework) - https://docs.djangoproject.com/
- **NumPy** (scientific computing) - https://numpy.org/doc/stable/
- **Sphinx itself** - https://www.sphinx-doc.org/

Notice how each has a professional, searchable appearance. All generated by Sphinx!

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## What Are Docstrings?

A **docstring** is a special string that documents what a Python function, class, or module does. Unlike regular comments, docstrings follow a standard format that tools like Sphinx can automatically parse.

### Example: Function Without Docstring

```python
def celsius_to_fahrenheit(celsius):
    return (celsius * 9/5) + 32
```

This function is not documented. Someone reading the code must figure out what it does from the function name alone.

### Example: Function With Docstring (NumPy Format)

```python
def celsius_to_fahrenheit(celsius):
    """Convert a temperature from Celsius to Fahrenheit.
    
    Parameters
    ----------
    celsius : float
        Temperature in degrees Celsius.
    
    Returns
    -------
    float
        Temperature in degrees Fahrenheit.
    
    Examples
    --------
    >>> celsius_to_fahrenheit(0)
    32.0
    >>> celsius_to_fahrenheit(100)
    212.0
    """
    return (celsius * 9/5) + 32
```

This function is now fully documented! Sphinx can automatically format this into HTML documentation.

### Docstring Parts (NumPy Format)

The docstring has several structured sections:

- **Summary line**: A one-line description
- **Extended description**: Longer explanation (optional)
- **Parameters**: Describes each input parameter
- **Returns**: Describes what the function returns
- **Raises**: What exceptions can be raised (optional)
- **Examples**: Example usage (optional)

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Part 1: Create the Project Environment

Move into the project folder:

```bash
cd sphinx_intro/
```

Initialize the project with UV:

```bash
uv init
```

Install the required packages (Sphinx and a nice theme):

```bash
uv add sphinx sphinx-rtd-theme
```

This installs:
- **sphinx**: The documentation generator
- **sphinx-rtd-theme**: A professional theme called "Read the Docs" (used by many projects)

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Part 2: Review the Code and Complete TODOs

Open [sphinx_intro/main.py](../sphinx_intro/main.py). This file contains several functions for calculating statistics. Your tasks are:

1. **Add a module-level docstring** at the very top of the file explaining what this module does
2. **Complete docstrings** for three functions that currently have `TODO` placeholders
3. **Follow the NumPy docstring format** shown above
4. **Include realistic examples** in the Examples section where provided

### Hints for Docstrings

**Module docstring** (goes at the very top of the file, before imports):

```python
"""Module name and brief description.

Longer description explaining what this module does and why someone
would use it.
"""
```

**Function docstring structure**:

```python
def function_name(param1, param2):
    """One-line summary of what the function does.
    
    Longer description if needed.
    
    Parameters
    ----------
    param1 : type
        Description of param1.
    param2 : type
        Description of param2.
    
    Returns
    -------
    return_type
        Description of what is returned.
    
    Examples
    --------
    >>> function_name(1, 2)
    result
    """
```

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Part 3: Build the Sphinx Project

Now we'll create and build the Sphinx documentation.

### Step 1: Initialize Sphinx Configuration

From the sphinx_intro directory, run:

```bash
uv run sphinx-quickstart -q -p "Statistics Calculator" -a "Your Name" -r "1.0.0" docs
```

This command:

- `-q`: Quiet mode (don't ask questions)
- `-p`: Project name
- `-a`: Author name
- `-r`: Release version
- `docs`: Directory where Sphinx files go

**Note**: Replace "Your Name" with your actual name!

This creates a `docs` directory with Sphinx configuration files:

- `docs/conf.py`: Configuration file (controls theme, extensions, output)
- `docs/index.rst`: The main documentation page
- `docs/Makefile`: Tools to build documentation

### Step 2: Configure Sphinx to Read Python Docstrings

Edit the file `docs/conf.py`. Find the line that starts with `extensions = `. It should look like:

```python
extensions = [
]
```

Add the `sphinx.ext.autodoc` extension (which Sphinx needs to read Python docstrings):

```python
extensions = [
    'sphinx.ext.autodoc',
]
```

Also, in the same file, find the line with `html_theme`. Change it to use the Read the Docs theme:

```python
html_theme = 'sphinx_rtd_theme'
```

### Step 3: Update the Main Documentation Page

Edit `docs/index.rst`. Replace the entire content with:

```restructuredtext
Statistics Calculator Documentation
====================================

This module provides functions for calculating statistical measures on datasets.

.. autoc Sphinx reads Python docstrings directly from your source files. Let's add them!

.. py:module:: main
   :noindex:

Functions
---------

.. autofunction:: calculate_mean
.. autofunction:: calculate_median
.. autofunction:: calculate_standard_deviation
.. autofunction:: find_outliers
```

This tells Sphinx to automatically document the functions from your `main.py` file.

### Step 4: Build the HTML Documentation

From the `sphinx_intro` directory, build the documentation:

```bash
cd docs
uv run sphinx-build -b html . _build/html
```

This tells Sphinx to:
- `-b html`: Build HTML output format
- `.`: Read configuration from current directory
- `_build/html`: Place output in the _build/html directory

If there are errors, they will be printed here. Check your docstrings for proper formatting!

### Step 5: View the Generated Documentation

The HTML documentation is now in `docs/_build/html/`. Open the file `docs/_build/html/index.html` in your web browser.

You should see:
- A nice-looking page with your project name
- A list of your functions
- Documentation for each function pulled directly from your docstrings
- Working examples

**This is your generated documentation! It came entirely from the docstrings you wrote.**

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Part 4: Experiment and Observe

Now that you have working documentation, experiment with changes:

1. **Modify a docstring** in main.py (e.g., add more detail to a description)
2. **Rebuild the documentation**: `cd docs && uv run sphinx-build -b html . _build/html`
3. **Refresh your browser** to see the changes
4. **Notice**: The documentation updates automatically from your docstrings!

This demonstrates the power of Sphinx: keep your documentation in your source code, and Sphinx keeps it automatically synchronized.

Try adding a new function with a complete docstring. Rebuild the documentation and see your new function automatically appear!

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Example Output

When you rebuild, you should see output like:

```text
Running Sphinx v6.1.3
building [html]: targets for 1 source files
updating environment: [new config] 1 added, 0 changed, 0 removed
reading sources... [100%] index
looking for now-outdated files... none found
pickling environment... done
building [html]: targets for 0 updated source files
waiting for workers...
copying images... [0/0]
copying downloadable files... [0/0]
generating indices... genindex
highlighting language: none
writing output... [1/0]
build succeeded.

Build finished. The HTML files are in _build/html.
```

No errors means your documentation built successfully!

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Understanding the Generated Documentation

When you open the HTML file in your browser, you see:

### 1. Function Name and Signature

```
calculate_mean(data) → float
```

Sphinx automatically shows the function's inputs and output types.

### 2. Description

The text from the docstring appears here, formatted nicely.

### 3. Parameters Table

A formatted table showing:
- Parameter name
- Parameter type
- Parameter description

### 4. Returns Section

What the function returns and why.

### 5. Examples Section

Actual code examples showing how to use the function. These are not executable in HTML, but they show other developers how to call your function.

### Why This Matters

Professional developers reading your code documentation can:
- Understand what each function does immediately
- See examples of how to use it
- Find other related functions by following links
- Trust that the documentation is accurate (since it comes from docstrings right in the code)

This is why every major Python project uses Sphinx or similar tools. **It turns scattered docstrings into beautiful, organized documentation.**

![--- --- --- --- --- --- --- --- ---](../graphics/div_bar.png)

## Summary

In this tutorial you:

1. ✅ Learned what Sphinx is and why Python projects use it
2. ✅ Understood the importance of docstrings
3. ✅ Wrote complete docstrings in NumPy format
4. ✅ Configured a Sphinx project
5. ✅ Generated professional HTML documentation
6. ✅ Observed how documentation reflects changes to docstrings

**Next Step**: Move on to Tutorial 2 to document a more complex project with multiple Python modules!
